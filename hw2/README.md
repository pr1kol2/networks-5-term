# HW 2

## Запуск

```py
python3 main.py --mode <{tcp, udp}> --role <{server, client}> --host <host=127.0.0.1> --port <port=9000>
```

## Протокол

- Сообщение — строка UTF-8, заканчивающаяся на `\n` (автоматически добавляется, если не было).
- Нажатие **Ctrl-C** / **Ctrl-D** завершает локальную сторону.

### TCP

- Устанавливается соединение клиент–сервер.
- Приём ведётся до первого `\n`.
- Поддерживаются длинные строки (≥ 20КБ).
- После разрыва сервер ждёт следующего клиента.

### UDP

- Изначально оединения нет; сервер одновременно работает только с одним клиентом.
- Клиент выбирается по первому пришедшему сообщению; остальные игнорируются.
- Клиент при старте шлёт `hi`.
- Освобождение клиента: строка `bye` или отсутствие сообщений в течении 120с.
